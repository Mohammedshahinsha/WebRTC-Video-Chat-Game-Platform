# ChatForYou Desktop - ë¹Œë“œ ê°€ì´ë“œ

[![License](https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg)](https://creativecommons.org/licenses/by-nc-sa/4.0/)

## ğŸ“‹ ê°œìš”

ChatForYou Desktopì€ Node.js ì›¹ ì•±ì„ Electron ë°ìŠ¤í¬í†± ì•±ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ìë™í™”ëœ ë¹Œë“œ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸš€ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ëª©ë¡

### ğŸ“¦ ê°œë°œ ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´ | ì„¤ëª… | ìš©ë„ |
|--------|------|------|
| `npm start` | ë¡œì»¬ í™˜ê²½ìœ¼ë¡œ ì•± ì‹¤í–‰ | ì¼ë°˜ ê°œë°œ |
| `npm run dev` | ê°œë°œ ëª¨ë“œë¡œ ì•± ì‹¤í–‰ | ë””ë²„ê¹… |
| `npm run dev:watch` | íŒŒì¼ ë³€ê²½ ê°ì§€ ëª¨ë“œ | ì‹¤ì‹œê°„ ê°œë°œ |

### ğŸ—ï¸ í†µí•© ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´ | ì„¤ëª… | ì¶œë ¥ |
|--------|------|------|
| `npm run build` | í†µí•© ë¹Œë“œ (macOS) | `.dmg` íŒŒì¼ |
| `npm run build:mac` | macOS í†µí•© ë¹Œë“œ | `.dmg` íŒŒì¼ |
| `npm run build:win` | Windows í†µí•© ë¹Œë“œ | `.exe` ì„¤ì¹˜ íŒŒì¼ |
| `npm run build:all` | ëª¨ë“  í”Œë«í¼ í†µí•© ë¹Œë“œ | ëª¨ë“  í˜•ì‹ |

### ğŸ”„ ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´ | ì„¤ëª… | í™˜ê²½ |
|--------|------|------|
| `npm run sync` | ë¡œì»¬ í™˜ê²½ ë™ê¸°í™” | local |
| `npm run sync:prod` | í”„ë¡œë•ì…˜ í™˜ê²½ ë™ê¸°í™” | production |
| `npm run sync:watch` | ì‹¤ì‹œê°„ ë™ê¸°í™” | local (watch) |
| `npm run sync:verbose` | ìƒì„¸ ë¡œê·¸ ë™ê¸°í™” | local (verbose) |

### ğŸ¨ SCSS ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´ | ì„¤ëª… | ì¶œë ¥ |
|--------|------|------|
| `npm run scss:build` | SCSS â†’ CSS ì»´íŒŒì¼ | ì••ì¶•ëœ CSS |
| `npm run scss:watch` | SCSS ì‹¤ì‹œê°„ ì»´íŒŒì¼ | ì†ŒìŠ¤ë§µ í¬í•¨ CSS |

### ğŸ› ï¸ ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´ | ì„¤ëª… | ë™ì‘ |
|--------|------|------|
| `npm run info` | ë¹Œë“œ ì •ë³´ í™•ì¸ | í˜„ì¬ ë²„ì „ ë° í™˜ê²½ í‘œì‹œ |
| `npm run clean` | ë¹Œë“œ ê²°ê³¼ë¬¼ ì •ë¦¬ | dist, src í´ë” ì‚­ì œ |
| `npm run clean:all` | ì „ì²´ ì •ë¦¬ | node_modules í¬í•¨ ì‚­ì œ |
| `npm run validate` | ë™ê¸°í™” ê²°ê³¼ ê²€ì¦ | íŒŒì¼ ë¬´ê²°ì„± í™•ì¸ |

### ğŸ“² ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´ | ì„¤ëª… | ê¸°ëŠ¥ |
|--------|------|------|
| `npm run update:version` | í˜„ì¬ ë²„ì „ í™•ì¸ | ë²„ì „ ì¶œë ¥ |
| `npm run update:build` | í…ŒìŠ¤íŠ¸ ë¹Œë“œ ìƒì„± | ë²„ì „ ì§€ì • ë¹Œë“œ |
| `npm run update:check` | ê°•ì œ ì—…ë°ì´íŠ¸ ì²´í¬ | ì—…ë°ì´íŠ¸ í™•ì¸ |
| `npm run update:restore` | ë²„ì „ ë³µì› | ë°±ì—…ì—ì„œ ë³µì› |

## ğŸ”§ í†µí•© ë¹Œë“œ í”„ë¡œì„¸ìŠ¤

### í†µí•© ë¹Œë“œ ì‹œìŠ¤í…œ (`build-scripts/build.js`)
```bash
# í†µí•© ë¹Œë“œ ì‹¤í–‰ (ëª¨ë“  ê³¼ì •ì´ ìë™í™”ë¨)
npm run build
```

**ìë™í™”ëœ ë¹Œë“œ ê³¼ì •:**
1. **ë¹Œë“œ ì •ë³´ í‘œì‹œ** - í˜„ì¬ í™˜ê²½ ë° ì„¤ì • í™•ì¸
2. **Frontend ë™ê¸°í™”** - nodejs-frontend â†’ chatforyou-desktop/src
   - íŒŒì¼ ë°±ì—… ìƒì„±
   - Static íŒŒì¼ ë³µì‚¬ (JS, CSS, ì´ë¯¸ì§€)
   - Template íŒŒì¼ ë³µì‚¬ ë° ê²½ë¡œ ë³€í™˜
   - Config íŒŒì¼ í™˜ê²½ë³„ ë³€í™˜
3. **SCSS ì»´íŒŒì¼** - src/static/scss â†’ src/static/css
4. **Electron ë¹Œë“œ** - í”Œë«í¼ë³„ ì‹¤í–‰ íŒŒì¼ ìƒì„±

**ë¹Œë“œ ê²°ê³¼:**
- **macOS**: `dist/ChatForYou-1.0.0-arm64.dmg`
- **Windows**: `dist/ChatForYou-Setup-1.0.0.exe`

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
chatforyou-desktop/
â”œâ”€â”€ src/                    # Electron ì•± ì†ŒìŠ¤
â”‚   â”œâ”€â”€ main/              # Main process
â”‚   â”œâ”€â”€ static/            # ì •ì  íŒŒì¼ (ë™ê¸°í™”ë¨)
â”‚   â”œâ”€â”€ templates/         # HTML í…œí”Œë¦¿ (ë™ê¸°í™”ë¨)
â”‚   â””â”€â”€ config/            # í™˜ê²½ë³„ ì„¤ì • (ë™ê¸°í™”ë¨)
â”œâ”€â”€ build-scripts/         # ë¹Œë“œ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ build.js           # í†µí•© ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ build-log.js       # ë¹Œë“œ ì •ë³´ í‘œì‹œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ sync-frontend.js   # ë©”ì¸ ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ test-update.js     # ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸ ë„êµ¬
â”‚   â””â”€â”€ lib/               # ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª¨ë“ˆ
â”œâ”€â”€ auto-update/           # ìë™ ì—…ë°ì´íŠ¸ ê´€ë ¨ ì½”ë“œ
â”‚   â””â”€â”€ auto-updater.js    # ìë™ ì—…ë°ì´íŠ¸ ê´€ë¦¬ì
â”œâ”€â”€ dist/                  # ë¹Œë“œ ì¶œë ¥
â”œâ”€â”€ package.json           # npm ì„¤ì •
â”œâ”€â”€ app-update.yml         # ìë™ ì—…ë°ì´íŠ¸ ì„¤ì •
â””â”€â”€ BUILD-README.md        # ì´ íŒŒì¼
```

## âš™ï¸ í™˜ê²½ ì„¤ì •

### ë¡œì»¬ í™˜ê²½ (local)
```javascript
// src/config/config.local.js
window.__CONFIG__ = {
  API_BASE_URL: 'http://localhost:8080/chatforyou/api',
  DEV_MODE: true,
  AUTO_UPDATER: false
};
```

### í”„ë¡œë•ì…˜ í™˜ê²½ (prod)
```javascript
// src/config/config.prod.js  
window.__CONFIG__ = {
  API_BASE_URL: 'https://hjproject.kro.kr/chatforyou/api',
  DEV_MODE: false,
  AUTO_UPDATER: true
};
```

## ğŸ”„ ìë™ ì—…ë°ì´íŠ¸

### ì„¤ì • íŒŒì¼
```yaml
# app-update.yml
provider: github
owner: sejon
repo: ChatForYou_v2
updaterCacheDirName: chatforyou-updater
```

### ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤
1. **ì½”ë“œ ë³€ê²½ í›„ íƒœê·¸ ìƒì„±**
   ```bash
   git tag v1.0.1
   git push origin v1.0.1
   ```

2. **GitHub Actions ìë™ ì‹¤í–‰**
   - ë©€í‹° í”Œë«í¼ ë¹Œë“œ
   - GitHub Releases ìƒì„±
   - ì—…ë°ì´íŠ¸ ë©”íƒ€ë°ì´í„° ìƒì„±

3. **ìë™ ì—…ë°ì´íŠ¸ ë°°í¬**
   - ì‚¬ìš©ì ì•±ì—ì„œ ìë™ ê°ì§€
   - ì›¹ ê¸°ë°˜ ì—…ë°ì´íŠ¸ UI í‘œì‹œ
   - ì›í´ë¦­ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜

## ğŸ› ï¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ì¼ë°˜ ê°œë°œ
```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2. ê°œë°œ ëª¨ë“œ ì‹¤í–‰
npm run dev

# 3. ì‹¤ì‹œê°„ ê°œë°œ ëª¨ë“œ
npm run dev:watch
```

### ë¹Œë“œ ë° ë°°í¬
```bash
# 1. ë¡œì»¬ í…ŒìŠ¤íŠ¸ ë¹Œë“œ
npm run build

# 2. í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build:all

# 3. ë¦´ë¦¬ìŠ¤ íƒœê·¸ & ë°°í¬
git tag v1.0.1
git push origin v1.0.1
```

### ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸
```bash
# 1. ë²„ì „ ë³€ê²½
npm run update:build 1.0.1

# 2. ì—…ë°ì´íŠ¸ ì²´í¬ í…ŒìŠ¤íŠ¸
npm run update:check

# 3. ë²„ì „ ë³µì›
npm run update:restore
```

## ğŸš¨ ë¬¸ì œ í•´ê²°

### ë¹Œë“œ ì‹¤íŒ¨ ì‹œ
1. **node_modules ì¬ì„¤ì¹˜**
   ```bash
   npm run clean:all
   npm install
   ```

2. **ë™ê¸°í™” ë¬¸ì œ**
   ```bash
   npm run clean
   npm run sync:verbose
   ```

3. **SCSS ì»´íŒŒì¼ ì˜¤ë¥˜**
   ```bash
   npm run scss:build
   ```

### ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ ì‹œ
1. **ì„¤ì • í™•ì¸**
   ```bash
   npm run validate
   ```

2. **ìˆ˜ë™ í…ŒìŠ¤íŠ¸**
   ```bash
   npm run update:check
   ```

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•
- **ë³‘ë ¬ ì²˜ë¦¬**: ë©€í‹° í”Œë«í¼ ë™ì‹œ ë¹Œë“œ
- **ìºì‹±**: npm ë° electron-builder ìºì‹œ í™œìš©
- **ìµœì í™”**: ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œì™¸

### ìš©ëŸ‰ ìµœì í™”
- **SCSS ì••ì¶•**: í”„ë¡œë•ì…˜ ë¹Œë“œ ì‹œ CSS ì••ì¶•
- **ì´ë¯¸ì§€ ìµœì í™”**: ê³ í•´ìƒë„ ì´ë¯¸ì§€ ì••ì¶•
- **ì½”ë“œ ë¶„í• **: ë¶ˆí•„ìš”í•œ ëª¨ë“ˆ ì œì™¸

## ğŸ” [ëª©í‘œ] ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ì½”ë“œ ì„œëª…
- **macOS**: Apple Developer ID í•„ìš”
- **Windows**: Code Signing Certificate í•„ìš”
- **ìë™í™”**: CI/CDì—ì„œ ë³´ì•ˆ í‚¤ ê´€ë¦¬

### ì—…ë°ì´íŠ¸ ë³´ì•ˆ
- **HTTPS**: ë³´ì•ˆ ì±„ë„ì„ í†µí•œ ì—…ë°ì´íŠ¸
- **ì²´í¬ì„¬**: íŒŒì¼ ë¬´ê²°ì„± ê²€ì¦
- **ì„œëª… ê²€ì¦**: ë””ì§€í„¸ ì„œëª… í™•ì¸

## ğŸ“š ì°¸ê³  ìë£Œ

- [Electron Builder ë¬¸ì„œ](https://www.electron.build/)
- [Electron ìë™ ì—…ë°ì´íŠ¸](https://www.electronjs.org/docs/latest/tutorial/updates)
- [GitHub Actions for Electron](https://github.com/samuelmeuli/action-electron-builder)
- [ChatForYou v2 í”„ë¡œì íŠ¸](https://github.com/SeJonJ/ChatForYou_v2)

## ğŸ“„ ë¼ì´ì„ ìŠ¤

Copyright 2024 SejonJang (wkdtpwhs@gmail.com)

ì´ í”„ë¡œì íŠ¸ëŠ” Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License í•˜ì— ë¼ì´ì„ ìŠ¤ë©ë‹ˆë‹¤.

**ë¹„ìƒì—…ì  ì‚¬ìš©ë§Œ í—ˆìš©ë©ë‹ˆë‹¤:**
- âœ… ê°œì¸ì , êµìœ¡ì , ì—°êµ¬ ëª©ì ì˜ ì‚¬ìš©
- âœ… ì˜¤í”ˆì†ŒìŠ¤ ê¸°ì—¬ ë° ê°œì„ 
- âŒ ìƒì—…ì  ëª©ì ì˜ ì‚¬ìš© ë° ë°°í¬
- âŒ ìˆ˜ìµ ì°½ì¶œì„ ìœ„í•œ í™œìš©

ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](https://creativecommons.org/licenses/by-nc-sa/4.0/) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.
